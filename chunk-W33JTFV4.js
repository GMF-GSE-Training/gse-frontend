import{a as re}from"./chunk-X7M2VWZO.js";import{a as oe}from"./chunk-5HRMLZSQ.js";import{a as ne}from"./chunk-ODNHARAG.js";import{a as Y,c as Z,d as ee,e as te}from"./chunk-LLJUXWRW.js";import{a as ie}from"./chunk-DGMD3CVT.js";import{c as K,d as A,e as Q,f as z,g as H,k as J,n as U,o as X}from"./chunk-HA77R4EW.js";import{d as R,e as N,g as $,r as j,u as q}from"./chunk-PTR267HX.js";import{Cb as O,Db as B,Eb as G,Fb as W,Gb as V,Kb as b,Lb as C,Mb as f,Na as u,Ob as L,Pb as v,Sa as k,Xa as x,ab as _,ba as m,ca as c,hb as l,jb as M,ka as D,kb as E,lb as P,mb as F,nb as r,ob as a,pb as h,qb as T,rb as I,sb as w,vb as S,wb as s,zb as y}from"./chunk-NHTCOLVS.js";var ue=["form"],ae=n=>({"grid-template-columns":n}),se=()=>["super admin"];function me(n,d){if(n&1){let e=w();r(0,"i",21),S("click",function(){m(e);let i=s().$index,o=s();return c(o.deleteInput("regulasiGSEs",i))}),a()}}function ce(n,d){if(n&1){let e=w();T(0),r(1,"app-base-input",17),f("ngModelChange",function(i){let o=m(e).$index,p=s();return C(p.regulasiGSEs[o].name,i)||(p.regulasiGSEs[o].name=i),c(i)}),a(),r(2,"app-base-input",18),f("ngModelChange",function(i){let o=m(e).$index,p=s();return C(p.regulasiGSEs[o].theoryDuration,i)||(p.regulasiGSEs[o].theoryDuration=i),c(i)}),a(),r(3,"app-base-input",19),f("ngModelChange",function(i){let o=m(e).$index,p=s();return C(p.regulasiGSEs[o].practiceDuration,i)||(p.regulasiGSEs[o].practiceDuration=i),c(i)}),a(),_(4,me,1,0,"i",20),I()}if(n&2){let e=d.$index,t=s();u(),y("name","reg_gse_",e,""),y("label","",e+1,". Regulasi GSE"),b("ngModel",t.regulasiGSEs[e].name),l("isRequired",!0)("disabled",t.isView),u(),y("name","durasi_teori_",e,""),b("ngModel",t.regulasiGSEs[e].theoryDuration),l("disabled",t.isView)("restrictToPattern","^[0-9]+$"),u(),y("name","durasi_praktek_",e,""),b("ngModel",t.regulasiGSEs[e].practiceDuration),l("disabled",t.isView)("restrictToPattern","^[0-9]+$"),u(),l("ngIf",!t.isView)}}function de(n,d){if(n&1){let e=w();r(0,"app-white-button",22),S("whiteButtonClick",function(){m(e);let i=s();return c(i.addInput("regulasiGSEs"))}),h(1,"i",23),a()}}function ge(n,d){if(n&1){let e=w();r(0,"i",21),S("click",function(){m(e);let i=s().$index,o=s();return c(o.deleteInput("kompetensis",i))}),a()}}function _e(n,d){if(n&1){let e=w();T(0),r(1,"app-base-input",17),f("ngModelChange",function(i){let o=m(e).$index,p=s();return C(p.kompetensis[o].name,i)||(p.kompetensis[o].name=i),c(i)}),a(),r(2,"app-base-input",18),f("ngModelChange",function(i){let o=m(e).$index,p=s();return C(p.kompetensis[o].theoryDuration,i)||(p.kompetensis[o].theoryDuration=i),c(i)}),a(),r(3,"app-base-input",19),f("ngModelChange",function(i){let o=m(e).$index,p=s();return C(p.kompetensis[o].practiceDuration,i)||(p.kompetensis[o].practiceDuration=i),c(i)}),a(),_(4,ge,1,0,"i",20),I()}if(n&2){let e=d.$index,t=s();u(),y("name","kompetensi_",e,""),y("label","",e+1,". Kompetensi"),b("ngModel",t.kompetensis[e].name),l("isRequired",!0)("disabled",t.isView),u(),y("name","durasi_teori_kompetensi_",e,""),b("ngModel",t.kompetensis[e].theoryDuration),l("disabled",t.isView)("restrictToPattern","^[0-9]+$"),u(),y("name","durasi_praktek_kompetensi_",e,""),b("ngModel",t.kompetensis[e].practiceDuration),l("disabled",t.isView)("restrictToPattern","^[0-9]+$"),u(),l("ngIf",!t.isView)}}function ye(n,d){if(n&1){let e=w();r(0,"app-white-button",22),S("whiteButtonClick",function(){m(e);let i=s();return c(i.addInput("kompetensis"))}),h(1,"i",23),a()}}function be(n,d){if(n&1&&(r(0,"app-blue-button",15),V(1,"Edit"),a()),n&2){let e=s(2);l("routerLink",e.blueButtonRoute)}}function Ce(n,d){n&1&&_(0,be,2,1,"app-blue-button",24),n&2&&l("appRoleBasedAccess",L(1,se))}function fe(n,d){if(n&1&&(r(0,"app-blue-button",16),V(1,"Simpan"),a()),n&2){s();let e=W(4);l("disabled",e.invalid)}}var le=(()=>{class n{constructor(){this.pageTitle="",this.capability={id:"",ratingCode:"",trainingCode:"",trainingName:""},this.regulasiGSEs=[{capabilityId:this.capability.id,name:"",theoryDuration:0,practiceDuration:0,type:"Regulasi GSE"}],this.kompetensis=[{capabilityId:this.capability.id,name:"",theoryDuration:0,practiceDuration:0,type:"Kompetensi"}],this.isView=!1,this.blueButtonRoute="",this.formSubmit=new D}handleSubmit(e){e.preventDefault(),this.form.valid&&this.formSubmit.emit()}addInput(e){let t={capabilityId:this.capability.id,name:"",theoryDuration:0,practiceDuration:0,type:e==="regulasiGSEs"?"Regulasi GSE":"Kompetensi"};this[e].push(t)}deleteInput(e,t){this[e].splice(t,1)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-curriculum-syllabus-form"]],viewQuery:function(t,i){if(t&1&&O(ue,5),t&2){let o;B(o=G())&&(i.form=o.first)}},inputs:{pageTitle:"pageTitle",capability:"capability",regulasiGSEs:"regulasiGSEs",kompetensis:"kompetensis",isView:"isView",blueButtonRoute:"blueButtonRoute"},outputs:{formSubmit:"formSubmit"},decls:28,vars:14,consts:[["form","ngForm"],[1,"container"],[3,"pageTitle"],[3,"ngSubmit"],[1,"top-form-container"],[1,"form-section"],["label","Kode Rating","name","kodeRating","autocomplete","off",3,"ngModelChange","ngModel","disabled"],["label","Nama Training","type","text","name","namaTraining","autocomplete","name",3,"ngModelChange","ngModel","disabled"],[1,"bottom-form-container"],["id","reg-gse",1,"form-section"],[1,"input-group",3,"ngStyle"],[1,"add-form-button-container"],["type","button",3,"whiteButtonClick",4,"ngIf"],[1,"buttons-container"],["type","button","routerLink","/capability",1,"button"],["type","button",1,"button",3,"routerLink"],["type","submit",1,"button",3,"disabled"],["type","text","required","","autocomplete","off",3,"ngModelChange","ngModel","name","label","isRequired","disabled"],["label","Durasi Teori","type","text","inputMode","tel","pattern","^[0-9]+$",1,"duration",3,"ngModelChange","ngModel","name","disabled","restrictToPattern"],["label","Durasi Praktik","type","text","inputMode","tel","pattern","^[0-9]+$",1,"duration",3,"ngModelChange","ngModel","name","disabled","restrictToPattern"],["class","fa-solid fa-trash-can delete-button",3,"click",4,"ngIf"],[1,"fa-solid","fa-trash-can","delete-button",3,"click"],["type","button",3,"whiteButtonClick"],[1,"fa-solid","fa-plus"],["type","button","class","button",3,"routerLink",4,"appRoleBasedAccess"]],template:function(t,i){if(t&1){let o=w();h(0,"app-header"),r(1,"div",1),h(2,"app-title",2),r(3,"form",3,0),S("ngSubmit",function(g){return m(o),c(i.handleSubmit(g))}),r(5,"div",4)(6,"div",5)(7,"app-base-input",6),f("ngModelChange",function(g){return m(o),C(i.capability.ratingCode,g)||(i.capability.ratingCode=g),c(g)}),a()(),r(8,"div",5)(9,"app-base-input",7),f("ngModelChange",function(g){return m(o),C(i.capability.trainingName,g)||(i.capability.trainingName=g),c(g)}),a()()(),r(10,"div",8)(11,"div",9)(12,"div",10),P(13,ce,5,18,"ng-container",null,E),a(),r(15,"div",11),_(16,de,2,0,"app-white-button",12),a()(),r(17,"div",5)(18,"div",10),P(19,_e,5,18,"ng-container",null,E),a(),r(21,"div",11),_(22,ye,2,0,"app-white-button",12),a()()(),r(23,"div",13)(24,"app-white-button",14),V(25,"Kembali"),a(),_(26,Ce,1,2,"app-blue-button",15)(27,fe,2,1,"app-blue-button",16),a()()()}t&2&&(u(2),l("pageTitle",i.pageTitle),u(5),b("ngModel",i.capability.ratingCode),l("disabled",!0),u(2),b("ngModel",i.capability.trainingName),l("disabled",!0),u(3),l("ngStyle",v(10,ae,i.isView?"50% 22% 22%":"50% 20% 20% 1%")),u(),F(i.regulasiGSEs),u(3),l("ngIf",!i.isView),u(2),l("ngStyle",v(12,ae,i.isView?"50% 22% 22%":"50% 20% 20% 1%")),u(),F(i.kompetensis),u(3),l("ngIf",!i.isView),u(4),M(i.isView?26:27))},dependencies:[Y,ee,te,Z,X,H,K,A,J,U,z,Q,$,R,N,q,ne,ie],styles:[".container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:2em;padding:2em}form[_ngcontent-%COMP%]{background:#fff;padding:2em;border:1px solid #e0e0e0;border-radius:8px;width:100%;margin:25px auto}.top-form-container[_ngcontent-%COMP%], .bottom-form-container[_ngcontent-%COMP%]{width:100%;display:flex}.top-form-container[_ngcontent-%COMP%]{gap:30%}.bottom-form-container[_ngcontent-%COMP%]{gap:1%}.form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:20px}.input-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:80% 20%;gap:1em}#reg-gse[_ngcontent-%COMP%]{border-right:5px double grey}.add-form-button-container[_ngcontent-%COMP%]{display:flex;justify-content:end;width:100%}.add-form-button-container[_ngcontent-%COMP%]   app-white-button[_ngcontent-%COMP%]{width:125px;margin-right:50px}i[_ngcontent-%COMP%]{cursor:pointer;font-size:25px}.delete-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:30px}.delete-button[_ngcontent-%COMP%]{color:red}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:4em;width:100%;margin-top:2em}.button[_ngcontent-%COMP%]{width:190px;height:45px}@media (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:2em 1em}form[_ngcontent-%COMP%]{padding:1em}.top-form-container[_ngcontent-%COMP%], .bottom-form-container[_ngcontent-%COMP%]{flex-direction:column;gap:1em}.top-form-container[_ngcontent-%COMP%]{gap:0}.bottom-form-container[_ngcontent-%COMP%]{margin-top:2em}.form-section[_ngcontent-%COMP%]{width:100%;gap:15px}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5em}.duration[_ngcontent-%COMP%]{width:50%;margin-right:0;margin-left:auto}#reg-gse[_ngcontent-%COMP%]{border-right:none;border-bottom:5px double grey;padding-bottom:1em}.add-form-button-container[_ngcontent-%COMP%]{justify-content:end;padding-right:0;padding-left:auto;margin-top:1em}i[_ngcontent-%COMP%]{font-size:20px}.delete-button[_ngcontent-%COMP%]{margin-right:0;margin-left:auto}.buttons-container[_ngcontent-%COMP%]{flex-direction:column;gap:1em;margin-top:1.5em}.button[_ngcontent-%COMP%]{width:100%;height:50px}}"]})}}return n})();function he(n,d){n&1&&(r(0,"div",0),h(1,"app-loader"),a())}function we(n,d){if(n&1&&h(0,"app-curriculum-syllabus-form",1),n&2){let e=s();l("pageTitle","View Curriculum & Syllabus")("capability",e.capability)("regulasiGSEs",e.regulasiGSEs)("kompetensis",e.kompetensis)("isView",!0)("blueButtonRoute",e.editLink)}}var qe=(()=>{class n{constructor(e,t){this.route=e,this.capabilityService=t,this.capability={id:"",ratingCode:"",trainingCode:"",trainingName:""},this.regulasiGSEs=[{capabilityId:"",name:"",theoryDuration:0,practiceDuration:0,type:""}],this.kompetensis=[{capabilityId:"",name:"",theoryDuration:0,practiceDuration:0,type:""}],this.editLink="",this.isLoading=!1,this.id=this.route.snapshot.paramMap.get("capabilityId")}ngOnInit(){this.getCapabilityById()}getCapabilityById(){this.id&&(this.isLoading=!0,this.editLink=`/curriculum-syllabus/${this.id}/edit`,this.capabilityService.getCurriculumSyllabus(this.id).subscribe({next:({data:e})=>{this.capability={id:e.id,ratingCode:e.ratingCode,trainingCode:e.trainingCode,trainingName:e.trainingName},this.regulasiGSEs=e.curriculumSyllabus.filter(t=>t.type==="Regulasi GSE").map(t=>({capabilityId:t.capabilityId,name:t.name,theoryDuration:t.theoryDuration,practiceDuration:t.practiceDuration,type:t.type})),this.kompetensis=e.curriculumSyllabus.filter(t=>t.type==="Kompetensi").map(t=>({capabilityId:t.capabilityId,name:t.name,theoryDuration:t.theoryDuration,practiceDuration:t.practiceDuration,type:t.type}))},error:e=>{console.log(e),this.isLoading=!1},complete:()=>{this.isLoading=!1}}))}static{this.\u0275fac=function(t){return new(t||n)(k(j),k(re))}}static{this.\u0275cmp=x({type:n,selectors:[["app-view-curriculum-syllabus"]],decls:2,vars:1,consts:[[1,"loading-container"],[3,"pageTitle","capability","regulasiGSEs","kompetensis","isView","blueButtonRoute"]],template:function(t,i){t&1&&_(0,he,2,0,"div",0)(1,we,1,6,"app-curriculum-syllabus-form",1),t&2&&M(i.isLoading?0:1)},dependencies:[le,oe],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:50vh}"]})}}return n})();export{le as a,qe as b};
