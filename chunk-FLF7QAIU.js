import{a as ae}from"./chunk-ODNHARAG.js";import{a as ee,c as E,d as te,e as I}from"./chunk-LLJUXWRW.js";import{b as ne,c as ie}from"./chunk-O7UYWYQF.js";import{b as $,c as O,d as T,e as F,f as V,g as B,o as A}from"./chunk-HA77R4EW.js";import{b as U,d as D,f as X,g as y,r as k,t as Y,u as Z}from"./chunk-PTR267HX.js";import{Cb as z,D as Q,Db as q,Eb as G,Fb as K,Gb as h,Jb as J,Kb as v,Lb as P,Mb as S,Na as r,Rb as L,Sa as M,Sb as R,Xa as C,ab as _,ba as p,ca as c,hb as s,ib as H,jb as W,ka as f,l as j,nb as a,ob as o,pb as g,sb as w,vb as d,wb as m}from"./chunk-NHTCOLVS.js";var oe=(()=>{class n{constructor(e){this.route=e,this.placeHolder="",this.autoSearchClear=!1,this.searchChange=new f,this.searchCleared=new f,this.searchSubject=new j,this.searchQuery=""}ngOnInit(){this.route.queryParams.subscribe(e=>{e.keyword&&(this.searchQuery=e.keyword)}),this.searchSubject.pipe(Q(300)).subscribe(e=>{this.searchChange.emit(e)})}onSearch(e){e.preventDefault(),this.searchChange.emit(this.searchQuery)}onSearchInputChange(){this.searchQuery===""?this.searchCleared.emit():this.searchSubject.next(this.searchQuery)}resetSearch(){this.searchQuery="",this.searchChange.emit(this.searchQuery)}static{this.\u0275fac=function(i){return new(i||n)(M(k))}}static{this.\u0275cmp=C({type:n,selectors:[["app-search"]],inputs:{placeHolder:"placeHolder",autoSearchClear:"autoSearchClear"},outputs:{searchChange:"searchChange",searchCleared:"searchCleared"},decls:5,vars:3,consts:[["inputElement",""],[3,"submit"],["name","q","type","search",3,"ngModelChange","ngModel","placeholder"],["type","submit",1,"submit",3,"disabled"],[1,"fa-solid","fa-magnifying-glass"]],template:function(i,t){if(i&1){let l=w();a(0,"form",1),d("submit",function(u){return p(l),c(t.onSearch(u))}),a(1,"input",2,0),S("ngModelChange",function(u){return p(l),P(t.searchQuery,u)||(t.searchQuery=u),c(u)}),d("ngModelChange",function(){return p(l),c(t.autoSearchClear?t.onSearchInputChange():void 0)}),o(),a(3,"button",3),g(4,"i",4),o()()}i&2&&(r(),v("ngModel",t.searchQuery),s("placeholder",t.placeHolder),r(2),s("disabled",t.autoSearchClear))},dependencies:[A,B,$,O,T,V,F],styles:["form[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;min-height:40px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-top-left-radius:15px;border-bottom-left-radius:15px;font-size:1.5em;padding-left:10px;border:1px solid #ccc;outline:none;transition:border-color .3s ease}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #02507E}i[_ngcontent-%COMP%]{margin-top:4px;margin-right:4px;margin-left:4px;color:#02507e}.submit[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;font-size:30px;background-color:#e0e0e0;border-top-right-radius:15px;border-bottom-right-radius:15px;cursor:pointer;border:1px solid #ccc;border-left:none;transition:background-color .3s ease}.submit[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d8dadb}@media (max-width: 768px){.submit[_ngcontent-%COMP%]{font-size:25px;padding-left:8px;padding-right:8px}}@media (max-width: 480px){.submit[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}}"]})}}return n})();var re=(()=>{class n{constructor(){this.viewAllChange=new f}viewAll(){this.viewAllChange.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=C({type:n,selectors:[["app-view-all"]],outputs:{viewAllChange:"viewAllChange"},decls:4,vars:0,consts:[[1,"view-all",3,"click"],[1,"fa-solid","fa-arrows-rotate"]],template:function(i,t){i&1&&(a(0,"button",0),d("click",function(){return t.viewAll()}),g(1,"i",1),a(2,"span"),h(3,"Tampilkan semua"),o()())},dependencies:[y],styles:[".view-all[_ngcontent-%COMP%]{width:250px;height:45px;font-size:20px;color:#02507e;border:1px solid #e0e0e0;background-color:#e0e0e0;border-radius:50px;display:flex;align-items:center;justify-content:center;padding:0 15px;gap:1em;transition:all .3s ease}.view-all[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;transition:transform .3s ease}.view-all[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d8dadb}button[_ngcontent-%COMP%]:active   i[_ngcontent-%COMP%]{transform:rotate(180deg)}"]})}}return n})();function de(n,b){n&1&&(a(0,"span"),h(1,"Filter"),o())}function me(n,b){if(n&1&&(a(0,"span"),h(1),L(2,"date"),L(3,"date"),o()),n&2){let e=m();r(),J(" ",e.startDate?R(2,2,e.startDate,"d MMMM yyyy"):"..."," - ",e.endDate?R(3,5,e.endDate,"d MMMM yyyy"):"...",`
`)}}function ue(n,b){if(n&1){let e=w();a(0,"form",6,0),d("ngSubmit",function(){p(e);let t=m();return c(t.applyFilter(t.startDate,t.endDate))}),a(2,"div",7)(3,"app-base-input",8),S("ngModelChange",function(t){p(e);let l=m();return P(l.startDate,t)||(l.startDate=t),c(t)}),o(),a(4,"app-base-input",9),S("ngModelChange",function(t){p(e);let l=m();return P(l.endDate,t)||(l.endDate=t),c(t)}),o()(),a(5,"div",10)(6,"app-white-button",11),d("whiteButtonClick",function(){p(e);let t=m();return c(t.clearFilter())}),h(7,"Hapus"),o(),a(8,"app-blue-button",12),h(9,"Terapkan"),o()()()}if(n&2){let e=m();r(3),v("ngModel",e.startDate),r(),v("ngModel",e.endDate)}}var se=(()=>{class n{constructor(e,i){this.route=e,this.router=i,this.startDate="",this.endDate="",this.isFilterVisible=!1,this.showIndikator=!1}ngOnInit(){this.route.queryParams.subscribe(e=>{this.startDate=e.startDate,this.endDate=e.endDate,this.applyFilter(this.startDate,this.endDate)})}toggleFilterContainer(){this.isFilterVisible=!this.isFilterVisible,console.log(this.isFilterVisible)}applyFilter(e,i){this.isFilterVisible=!1,this.showIndikator=!0,this.router.navigate([],{queryParams:{startDate:e,endDate:i},queryParamsHandling:"merge"})}clearFilter(){this.router.navigate([],{relativeTo:this.route,queryParams:{startDate:void 0,endDate:void 0},queryParamsHandling:"merge"}),this.startDate=null,this.endDate=null,this.isFilterVisible=!1,this.showIndikator=!1}static{this.\u0275fac=function(i){return new(i||n)(M(k),M(Y))}}static{this.\u0275cmp=C({type:n,selectors:[["app-date-filter"]],decls:6,vars:4,consts:[["filterForm","ngForm"],[1,"show-filter-button",3,"click"],[1,"fa-solid","fa-filter"],[4,"ngIf"],[1,"fa-solid",3,"ngClass"],["class","date-filter-form",3,"ngSubmit",4,"ngIf"],[1,"date-filter-form",3,"ngSubmit"],[1,"input-container"],["label","Tanggal Mulai","type","date","name","startDate",1,"input",3,"ngModelChange","ngModel"],["label","Tanggal Selesai","type","date","name","endDate",1,"input",3,"ngModelChange","ngModel"],[1,"filter-button-container"],["type","button",1,"filter-button",3,"whiteButtonClick"],["type","submit",1,"filter-button"]],template:function(i,t){i&1&&(a(0,"button",1),d("click",function(){return t.toggleFilterContainer()}),g(1,"i",2),_(2,de,2,0,"span",3)(3,me,4,8,"span",3),g(4,"i",4),o(),_(5,ue,10,2,"form",5)),i&2&&(r(2),s("ngIf",!t.startDate||!t.endDate||!t.showIndikator),r(),s("ngIf",(t.startDate||t.endDate)&&t.showIndikator),r(),s("ngClass",t.isFilterVisible?"fa-caret-up":"fa-caret-down"),r(),s("ngIf",t.isFilterVisible))},dependencies:[te,y,U,D,X,E,A,B,O,T,V,F,I],styles:[".show-filter-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;height:45px;padding:8px 16px;font-size:20px;color:#02507e;border:none;background-color:#e0e0e0;border-radius:50px;cursor:pointer;white-space:nowrap;max-width:100%;overflow:hidden;text-overflow:ellipsis}.show-filter-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d8dadb}.date-filter-form[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;gap:20px;background-color:#fff;padding:10px;border:2px solid #ccc;border-radius:25px}.input-container[_ngcontent-%COMP%]{display:flex;gap:1em;width:100%}.input[_ngcontent-%COMP%]{font-size:10px;width:100%}.filter-button[_ngcontent-%COMP%]{height:35px;width:125px;font-size:10px;margin-left:auto;width:100%}.filter-button-container[_ngcontent-%COMP%]{padding:0;display:flex;gap:1em}@media (max-width: 768px){.date-filter-form[_ngcontent-%COMP%]{width:80%}}"]})}}return n})();var ge=["dateFilterComponent"];function he(n,b){n&1&&g(0,"app-date-filter",null,1)}function fe(n,b){if(n&1&&(a(0,"app-blue-button",13),h(1,"Tambahkan"),o()),n&2){let e=m(2);s("routerLink",e.blueButtonRoute)("disabled",e.cotStatus==="Selesai")("title",e.cotStatus==="Selesai"?"Tidak dapat menambah peserta pada COT yang sudah selesai":"")}}function Ce(n,b){if(n&1&&_(0,fe,2,3,"app-blue-button",15),n&2){let e=m();s("appRoleBasedAccess",e.roleBassedAccess)}}function _e(n,b){if(n&1){let e=w();a(0,"app-blue-button",17),d("blueButtonClick",function(){p(e);let t=m(2);return c(t.onClickChanged())}),h(1,"Tambahkan"),o()}if(n&2){let e=m(2);s("disabled",e.cotStatus==="Selesai")("title",e.cotStatus==="Selesai"?"Tidak dapat menambah peserta pada COT yang sudah selesai":"")}}function be(n,b){if(n&1&&_(0,_e,2,2,"app-blue-button",16),n&2){let e=m();s("appRoleBasedAccess",e.roleBassedAccess)}}var et=(()=>{class n{constructor(){this.pageTitle="",this.columns=[],this.data=[],this.state={data:""},this.isLoading=!1,this.isParticipantCot=!1,this.totalPages=0,this.currentPage=1,this.isLoadingPagination=!1,this.pageChange=new f,this.placeHolder="",this.searchChange=new f,this.viewAllChange=new f,this.blueButtonRoute="",this.whiteButtonRoute="/dashboard",this.roleBassedAccess=[],this.onClickChange=new f,this.cotStatus=""}onPageChanged(e){typeof e=="number"&&e!==this.currentPage&&!this.isLoading&&this.pageChange.emit(e)}onSearchChanged(e){this.searchChange.emit(e)}viewAll(e,i){e.resetSearch(),i?.clearFilter(),this.viewAllChange.emit()}onClickChanged(){this.onClickChange.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=C({type:n,selectors:[["app-data-management"]],viewQuery:function(i,t){if(i&1&&z(ge,5),i&2){let l;q(l=G())&&(t.dateFilterComponent=l.first)}},inputs:{pageTitle:"pageTitle",columns:"columns",data:"data",state:"state",certificateState:"certificateState",isLoading:"isLoading",isParticipantCot:"isParticipantCot",totalPages:"totalPages",currentPage:"currentPage",isLoadingPagination:"isLoadingPagination",placeHolder:"placeHolder",blueButtonRoute:"blueButtonRoute",whiteButtonRoute:"whiteButtonRoute",roleBassedAccess:"roleBassedAccess",cotStatus:"cotStatus"},outputs:{pageChange:"pageChange",searchChange:"searchChange",viewAllChange:"viewAllChange",onClickChange:"onClickChange"},decls:16,vars:15,consts:[["searchComponent",""],["dateFilterComponent",""],[1,"container"],[3,"pageTitle"],[1,"search-container"],[3,"searchChange","placeHolder"],[4,"ngIf"],[3,"viewAllChange"],[1,"table-container"],[3,"columns","data","state","certificateState","isLoading"],[3,"pageChange","totalPages","currentPage","isLoading"],[1,"button-container"],[1,"button",3,"routerLink"],[1,"button",3,"routerLink","disabled","title"],[1,"button",3,"disabled","title"],["class","button",3,"routerLink","disabled","title",4,"appRoleBasedAccess"],["class","button",3,"disabled","title","blueButtonClick",4,"appRoleBasedAccess"],[1,"button",3,"blueButtonClick","disabled","title"]],template:function(i,t){if(i&1){let l=w();a(0,"div",2),g(1,"app-title",3),a(2,"div",4)(3,"app-search",5,0),d("searchChange",function(u){return p(l),c(t.onSearchChanged(u))}),o(),a(5,"div"),_(6,he,2,0,"app-date-filter",6),a(7,"app-view-all",7),d("viewAllChange",function(){p(l);let u=K(4);return c(t.viewAll(u,t.dateFilterComponent))}),o()()(),a(8,"div",8),g(9,"app-table",9),o(),a(10,"app-pagination",10),d("pageChange",function(u){return p(l),c(t.onPageChanged(u))}),o(),a(11,"div",11)(12,"app-white-button",12),h(13,"Kembali"),o(),_(14,Ce,1,1,"app-blue-button",13)(15,be,1,1,"app-blue-button",14),o()()}i&2&&(r(),s("pageTitle",t.pageTitle),r(2),s("placeHolder",t.placeHolder),r(2),H("filter-container",t.isParticipantCot),r(),s("ngIf",t.isParticipantCot),r(3),s("columns",t.columns)("data",t.data)("state",t.state)("certificateState",t.certificateState)("isLoading",t.isLoading),r(),s("totalPages",t.totalPages)("currentPage",t.currentPage)("isLoading",t.isLoadingPagination),r(2),s("routerLink",t.whiteButtonRoute),r(2),W(t.blueButtonRoute?14:15))},dependencies:[ee,oe,re,ne,I,E,ie,ae,Z,se,y,D],styles:[".container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:2em;padding:2em}.search-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:5px}.filter-container[_ngcontent-%COMP%]{display:flex;width:90%;justify-content:space-between}.date-filter[_ngcontent-%COMP%]{margin-right:auto;margin-left:15px}i[_ngcontent-%COMP%]{font-size:30px;position:absolute;margin-left:-45px;margin-top:7px;cursor:pointer}.table-container[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e0e0e0;border-radius:8px;background-color:#fff;overflow-x:scroll}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px}.nav-pagination[_ngcontent-%COMP%]{display:flex;gap:20px;cursor:pointer;font-size:25px}.nav-pagination[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{text-decoration:underline}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.button[_ngcontent-%COMP%]{width:190px;height:45px}@media (max-width: 768px){.search-container[_ngcontent-%COMP%]{flex-direction:column;gap:1em;padding:0}.filter-container[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:1em}.button-container[_ngcontent-%COMP%]{justify-content:center;gap:4em;width:100%;margin-top:2em}}"]})}}return n})();export{oe as a,et as b};
