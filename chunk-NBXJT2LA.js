import{Na as i,Qa as s,Sa as o,Xa as l}from"./chunk-IL35Q2DY.js";var c=(()=>{class t{constructor(r,e){this.templateRef=r,this.viewContainer=e,this.currentUserRole="",this.allowedRoles=[],this.loadRoleFromCache()}set appRoleBasedAccess(r){this.allowedRoles=r,this.updateView()}loadRoleFromCache(){let r=localStorage.getItem("user_profile");if(r)try{let e=JSON.parse(r);e&&e.role&&e.role.name?this.currentUserRole=e.role.name:(console.warn("userProfile.role or userProfile.role.name is undefined"),this.currentUserRole="")}catch(e){console.error("Error parsing user_profile from localStorage:",e),this.currentUserRole=""}}updateView(){this.allowedRoles.map(r=>r.toLowerCase()).includes(this.currentUserRole.toLowerCase())?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()}static{this.\u0275fac=function(e){return new(e||t)(s(i),s(o))}}static{this.\u0275dir=l({type:t,selectors:[["","appRoleBasedAccess",""]],inputs:{appRoleBasedAccess:"appRoleBasedAccess"}})}}return t})();export{c as a};
